
CXX = clang++
CXXFLAGS = -Wall -g -std=c++17 -stdlib=libc++
CXXFLAGS += -I/home/guo/AwareCore/Giants/BCG/
LDFLAGS = -L/home/guo/Github/llvm_svn/build/lib

DISMAX = /home/guo/AwareCore/Giants/BCG/BoostDisMax/
LDFLAGS += -L$(DISMAX)

QUALITY = /home/guo/AwareCore/Giants/BCG/Quality/
LDFLAGS += -L$(QUALITY)

bcg : BCG.cc $(DISMAX)libdismax.so $(QUALITY)libquality.so
	$(CXX) $< $(CXXFLAGS) $(LDFLAGS) -ldismax -lquality -o $@
	 export LD_LIBRARY_PATH=$(LD_LIBRARY_PATH):$(DISMAX):$(QUALITY); ./bcg

$(DISMAX)libdismax.so : $(DISMAX)DisMax.cc
	$(CXX) $< -fpic -shared $(CXXFLAGS) $(LDFLAGS) -o $@

$(QUALITY)libquality.so : $(QUALITY)Quality.cc
	$(CXX) $< -fpic -shared $(CXXFLAGS) $(LDFLAGS) -o $@


