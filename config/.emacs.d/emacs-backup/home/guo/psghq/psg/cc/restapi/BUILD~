
package(
    default_visibility = ["//visibility:public"],
)

licenses(["notice"])

load("//psg:psg.bzl", "if_windows")

cc_binary(
    name = "server",
    srcs = ["main.cc", "server.cc", "server.h"],
    linkopts = if_windows([], ["-lpthread", "-lboost_system", "-lcpprest", "-lssl", "-lcrypto"])
#    data = ["//psg/lib/stage:saved_models"],
    deps = if_windows(["//third_party/cpprest:cpprest"],
                      []),
)

cc_binary(
    name = "client",
    srcs = ["client.cc"],
    linkopts = if_windows([], ["-lpthread", "-lboost_system", "-lcpprest", "-lssl", "-lcrypto"],)
    deps = if_windows(["//third_party/cpprest:cpprest", ], []),
)

