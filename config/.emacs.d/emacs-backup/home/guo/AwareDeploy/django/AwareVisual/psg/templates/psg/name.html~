<head>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <title>PhysioVisual: Inspiring Mind</title>
</head>

<center>
<h1>Welcome to PhysioVisual</h1>

<form enctype="multipart/form-data" action="/psg/" method="post">
  {% csrf_token %}
  {{ form }}
  <input type="submit", value="Submit" />
</form>

<center>
  <div id="myDiv" height: 200% width: 99%></div>
</center>

<script>
  Run();
function Run() {
  var data_to_plot = [];
  var layout = { title : "Signals" , autosize:true};
  var server_data = [{{ data | safe }}];
  console.log(server_data[0]);
  server_data = server_data[0];
  var t = [...Array(server_data["Signal"].length).keys()];
  for (var key in server_data) {
    var new_data = {
      x: t,
      y: server_data[key],
      mode: 'lines+markers',
      name: key,
    };
    data_to_plot.push(new_data);
  }
  Plotly.newPlot('myDiv', data_to_plot, layout);
}
</script>

