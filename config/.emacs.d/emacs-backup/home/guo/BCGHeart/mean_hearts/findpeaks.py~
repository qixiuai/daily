
import numpy as np
import peakutils


class AutoPeaks(object):

    def __init__(self):
        pass


def findpeaks(signal, thres=0.73, min_dist=300, max_pair_dist=100):
    if isinstance(signal, list):
        signal = np.asarray(signal)
    diff = np.diff(signal)
    diff_abs = np.abs(diff)
    upper_peak_indices = peakutils.indexes(diff, thres=thres, min_dist=min_dist)
    lower_peak_indices = peakutils.indexes(-1*diff, thres=thres, min_dist=min_dist)
    '''
    upper_peak_values = diff_abs[upper_peak_indices]
    lower_peak_values = diff_abs[lower_peak_indices]
    upper_peaks = list(zip(upper_peak_indices, upper_peak_values))
    lower_peaks = list(zip(lower_peak_indices, lower_peak_values))
    '''
    

    

