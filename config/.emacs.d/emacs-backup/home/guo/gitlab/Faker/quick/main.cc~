
#include <algorithm>
#include <iostream>
#include <vector>
#include <fstream>
#include <string>

#include "wrapper.h"

using namespace std;

int main() {
  
  ifstream is("/home/guo/gitlab/Faker/data/Resp temp.txt");

  if (!is.good()) {
    cerr << "signal file not found!\n";
  }

  int num_sample = 0;
  int sample;

  NoiseClassifier* classifier = ClassifierInit();
  
  while (is >> sample) {
    num_sample += 1;
    int ret = Classify(classifier, sample);
    cout << sample << ',' << ret << '\n';
    if (num_sample > 100000)
      break;
  }

  return 0;
}
