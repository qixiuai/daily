
#include <iostream>
#include <string>
#include <vector>
#include <fstream>

#include "utils.h"

using namespace std;

int main() {
  string leg_path = "/home/guo/ConcisePSG/psg/util/testdata/leg_r.csv";
  ifstream in(leg_path);
  if (!in.is_open()) cerr << "file not found!\n";
  std::string line;
  std::vector<float> signal;
  Detrend det(10*100); // 10s
  while (getline(in, line)) {
    float sample = std::stof(line);
    cerr << sample << '\n';
    det.detrend(sample);
  }
  return 0;
}
