
#include <fstream>
#include <iostream>
#include <string>
#include <vector>
#include "absl/strings/str_join.h"
#include "absl/strings/str_split.h"
#include "spdlog/spdlog.h"
#include "fft.h"

int main() {
  using namespace std;
  
  spdlog::set_level(spdlog::level::debug);
  spdlog::info("Welcome to spdlog!");

  const string signal_file_path =
    "/home/guo/PSG/data/resp/data.txt";
  
  ifstream file(signal_file_path);
  if (!file.is_open()) {
    cout << "signal file not found!\n";
    exit(0);
  }
  
  string line;
  vector<int> signal;
  while (getline(file, line)) {
    vector<string> vec = absl::StrSplit(line, ',');
    //    spdlog::debug("line content: {}\t{}", vec[0], vec[1]);
    signal.push_back(std::stoi(vec[0]));
  }  
  
  return 0;
}
