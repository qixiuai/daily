
#include <vector>
#include <iostream>

#include "detrend.h"
#include "io/file.h"

int main() {
  using namespace physio;
  using namespace std;

  string kemp_ecg = "/home/guo/AwareCore/PSGFramework/data/ECG/Kemp_ECG.txt";
  auto data = csvread<int>(kemp_ecg);
  Detrender<int> dtr(100);
  for (int i=0; i<data.size(); i++) {
    auto val = data(i);
    auto m = dtr.detrend(val);
    std::cout << val << ',' << m << std::endl;
  }

  return 0;
}
