from __future__ import print_function

import grpc

import Algorithms_pb2
import Algorithms_pb2_grpc

from Algorithms_pb2 import BCGSummary
from Algorithms_pb2 import BCGResultSummary
from Algorithms_pb2 import QualitySummary
from Algorithms_pb2 import DisMaxSummary


class AlgorithmsClient:
    def __init__(self, __server_address_port="192.168.4.3:50052"):
        self.__server_address_port = __server_address_port
        self.__client_name_ = Algorithms_pb2.ClientName(name="Web Server")
    
    def GetBCGSummary(self):
        responses = self.__stub_.GetBCGSummary(self.__client_name_)
        for response in responses:
            print("Recivied BCGSummary {}" % response) # TODO
    
    def __enter__(self):
        self.__channel_ = grpc.insecure_channel(self.__server_address_port)
        self.__stub_    = Algorithms_pb2_grpc.AlgorithmsServiceStub(self.__channel_)

    def __exit__(self):
        self.__channel_.close()



