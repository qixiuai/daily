cc_binary(
    name = "bcgc.dll",
    srcs = ["BCGWrapper.cc", "BCGWrapper.h", "BCG.cc", "BCG.h"],
#    deps = [":bcg"],
    features = ["windows_export_all_symbols"],
    linkshared = 1,    
)

cc_library(
    name = "bcgc",
    srcs = ["BCGWrapper.cc",  "BCG.cc",],
    hdrs = ["BCG.h", "BCGWrapper.h",],
    copts = ["-std=c++17"],
)

cc_binary(
    name = "Run",
    srcs = ["Run.cc"],
    deps = [":bcg"],
    copts = ["-std=c++17"],
)

cc_library(
    name = "bcg",
    srcs = ["BCG.cc"],
    hdrs = ["BCG.h"],
    copts = ["-std=c++17"],
)

cc_binary(
    name = "main",
    srcs = ["main.c"],
    deps = [":bcgc"],
    copts = ["-g"],
)

cc_binary(
    name = "test",
    srcs = ["test.c"],    
)
