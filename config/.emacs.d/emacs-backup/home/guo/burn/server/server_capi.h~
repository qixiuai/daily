
#ifndef BURN_SERVER_SERVER_CAPI_H_
#define BURN_SERVER_SERVER_CAPI_H_

#include "burn/server/server.h"

//std::unique_ptr<DataFlowServer> g_httpHandler;

class DataFlowServer;

#ifndef __cplusplus
extern "C" {
#endif
  
  DataFlowServer* on_initialze(const string_t& addr) {
    DataFlowServer* g_httpHandler = new DataFlowServer(addr);
    g_httpHandler->open().wait();
    return g_httpHandler;
  }

  void on_shutdown(DataFlowServer* g_httpHandler) {
    g_httpHandler->close().wait();
    return;
  }

#indef __cplusplus
}
#endif

#endif
