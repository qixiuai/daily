
import tensorflow as tf

filepath = "/home/guo/physio/dl/tfrecords/isruc.tfrecords/isruc.30.train.tfrecords-00000-of-00050"

dataset = tf.data.TFRecordDataset(filepath)

feature_desc = {
    "C3_M2": tf.io.FixedLenSequenceFeature((6000,), tf.float32, allow_missing=True),
    "labels": tf.io.FixedLenSequenceFeature((1,), tf.int64, allow_missing=True),
}

dataset = dataset.map(lambda x: tf.io.parse_single_example(x, feature_desc))

for example in dataset:
    print(example)
    break








