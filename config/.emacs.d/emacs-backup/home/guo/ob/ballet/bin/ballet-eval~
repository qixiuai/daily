#!/bin/bash

data_dir=/home/guo/data/kaggle/OpenImage2019/
train_images_dir=${data_dir}/raw/train/
valid_images_dir=${data_dir}/raw/validation/
test_images_dir=${data_dir}/test/

hierarchy_file=${data_dir}/challenge-2019-label500-hierarchy.json

train_bbox_path=${data_dir}/challenge-2019-train-detection-bbox.csv
train_anno_path=${data_dir}/challenge-2019-train-detection-human-imagelabels.csv


python object_detection/dataset_tools/oid_hierarchical_labels_expansion.py \
    --json_hierarchy_file=${hierarchy_file} \
    --input_annotations=${BOUNDING_BOXES}.csv \
    --output_annotations=${BOUNDING_BOXES}_expanded.csv \
    --annotation_type=1

python object_detection/dataset_tools/oid_hierarchical_labels_expansion.py \
    --json_hierarchy_file=${HIERARCHY_FILE} \
    --input_annotations=${IMAGE_LABELS}.csv \
    --output_annotations=${IMAGE_LABELS}_expanded.csv \
    --annotation_type=2

out_dir=/home/guo/data/kaggle/oid/tfrecords/
train_out_prefix=${out_dir}/train.tfrecord


tf_model_dir=/home/guo/Github/tensorflow_models/research/object_detection/
model_dir=/home/guo/ob/ballet/ballet/
label_map_path=${tf_model_dir}/data/oid_object_detection_challenge_500_label_map.pbtxt



