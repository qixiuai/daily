
#ifndef _PSG_API_
#define _PSG_API_

#include <vector>
#include <string>
#include "cpprest/json.h"

#include "psg/api/data.h"

namespace psg {
    
    class Api {
    public:
      Api();

      void put(const std::vector<unsigned char>& data);
      web::json::value get(const std::string & key);
      web::json::value get(const web::json::value& client);
      void post(const web::json::value& client);
      void del() {}
      
    private:
      void generate_report(std::string hex_str);
      
      comm::DB db;
      bool report_is_fresh_ = false;
    };

} // end namespace psg


#endif
